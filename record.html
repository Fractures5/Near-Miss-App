<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Record Near-miss</title>
      <link rel = "icon" type = "image/png" href = "./images/logo.png">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
      <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
      <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.2.0/mdb.min.css" rel="stylesheet" />
      <link rel="stylesheet" href="./styles/style.css">
      <script src="https://kit.fontawesome.com/yourcode.js" crossorigin="anonymous"></script>
      <script type="text/javascript" src="xhr.js"></script>
      <script type="text/javascript" src="ajaxRecordForm.js"></script>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
   </head>
   <body>
      <header>
         <!-- Navbar -->
         <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
               <nav aria-label="breadcrumb">
                  <ol class="breadcrumb">
                     <li>
                        <a href="index.html">
                           <div class="sub-menu">
                              <i class="bi bi-house-door"></i>
                              <p class="menu-title">Home</p>
                           </div>
                        </a>
                     </li>
                     <li>
                        <a href="index.html#about-section">
                           <div class="sub-menu">
                              <i class="bi bi-info-square"></i>
                              <p class="menu-title">About</p>
                           </div>
                        </a>
                     </li>
                     <li>
                        <a href="index.html#contact-section">
                           <div class="sub-menu">
                              <i class="bi bi-chat-left-text"></i>
                              <p class="menu-title">Contact</p>
                           </div>
                        </a>
                     </li>
                     <li>
                        <a href="adminlogin.html">
                           <div class="sub-menu">
                              <i class="bi bi-person-circle"></i>
                              <p class="menu-title">Admin</p>
                           </div>
                        </a>
                     </li>
                     <li>
                        <a href="record.html">
                           <div class="sub-menu">
                              <i class="bi bi-pencil-square"></i>
                              <p class="menu-title">Record</p>
                           </div>
                        </a>
                     </li>
                  </ol>
               </nav>
            </div>
         </nav>
         <!-- Navbar -->
      </header>
      <!-- Navbar -->
      <!-- Background image -->
      <div class = "record-case-container">
         <br><br><br><br>
         <h1 style="color: white;">Record a Near-miss</h1>
         <div class="form-group">
            <form action="recordInfo.php" method="POST" enctype="multipart/form-data">
               <div id = "site-location">
                  <i class="fa-solid fa-location-dot" style="color: white;"></i>
                  <label for="siteLocation" style="color: white;">Site Location</label>
                  <br><input style="height:50px;font-size:14pt;" type="text" id="nmSiteLocation" name="nmSiteLocation" class = "siteLoc"
                     placeholder="Enter Site Location..." title = "Please Enter the Site Location/Address of your Near-miss" required placeholder="Please Enter the Site Location or Address of your Near-miss"
                     oninvalid="this.setCustomValidity('Please Enter the Site Location or Address of your Near-miss')"
                     oninput="this.setCustomValidity('')"><br>
                  <span id="errSiteLocation" style="color: red; display: none"></span>
               <div>
               <div id="region-field">
                  <br>
                  <i class="fa-solid fa-location-dot" style="color: white;"></i>
                  <label for="siteLocation" style="color: white;">Region</label>
                  <br><input style="height:50px;font-size:14pt;" type="text" id="nmRegionSubdiv" name="nmRegionSubdiv" class="siteLoc"
                     placeholder="Region/Subdivision (Optional)"><br>
                  <span id="errSiteLocation" style="color: red; display: none"></span>
                  <h1 class="status"></h1>
                  <button class="find-geolocation" type="button">Track my Geolocation</button>
               </div>
               <div id="insite-location">
                  <p></p><i class="fa-solid fa-location-dot" style="color: white;"></i>
                  <label for="location" style="color: white;">In-Site Location</label>
                  <br><input style="height:50px;font-size:14pt;"type="text" id="nmInSiteLocation" name="nmInSiteLocation"
                     placeholder="Enter In-Site Location..." title = "Please Enter the Specific In-Site Location of your Near-miss" required placeholder="Please Enter the Specific In-Site Location of your Near-miss"
                     oninvalid="this.setCustomValidity('Please Enter the Specific In-Site Location of your Near-miss')"
                     oninput="this.setCustomValidity('')">
               </div>
               <div id="upload-image">
                  <label for="uploadImage">Image of Near-miss:</label>
                  <div id="choose-files">
                     <input type="file" id="uploaded-image" accept="image/jpeg, image/png, image/jpg" name="uploadedImageFile"
                        onchange=showImagePreviewBox() title = "Attach Photos/Images to your Near-miss Case" multiple required placeholder="Please Attach atleast 1 or more photos to complement your Near-miss case"
                        oninvalid="this.setCustomValidity('Please Attach atleast 1 image/photo. Only JPEG, PNG, JPG Images are Accepted!')"
                        oninput="this.setCustomValidity('')">
                  </div>
                  <br>
                  <h3 id="image-preview-title" style="display:none">Uploaded Image Preview</h3>
                  <div id="show-uploaded-image" style="display:none">
                  </div>
                  <br>
               </div>
               <div id = "description-field">
                  <fieldset>
                     <i class="fa-solid fa-note-sticky" style="color: white;"></i>
                     <label for="description" style="color: white;">Description</label>
                     <p style="color: white;">To use Speech-To-Text, click on "Press to Speak" then click your cursor in the description field. Press "Listening" to stop the feature.</p>
                     <code id="result">Live Speech-Transcript Here ...</code>
                     <button type="button" id="toggle">Press to Speak</button>
                     <br><br>
                     <textarea id="description" name="description" rows="4" cols="50" title = "Please Provide a Description of your Near-miss" required placeholder="Please Provide a Description of your Near-miss"
                     oninvalid="this.setCustomValidity('Please Provide a Description of your Near-miss')"
                     oninput="this.setCustomValidity('')"></textarea>
                     <span id="errImage" style="color: red; display: none"></span>
                  </fieldset>
               </div>
               <div id = "date-time-field">
                  <p></p><i class="fa-solid fa-clock" style="color: white;"></i>
                  <label for="time" style="color: white;">Date and Time of Near-miss</label><br>
                  <label for="dateTime"></label>
                  <input type="datetime-local" id="dateTime" name="dateTime" onchange="checkForValidDate()" title = "Please Provide a Date and Time of your Near-miss" required placeholder="Please Enter the Date and Time of the Near-miss"
                  oninvalid="this.setCustomValidity('Please Enter a valid Date and Time for your Near-miss')"
                  oninput="this.setCustomValidity('')">
                  <span id="errImage" style="color: red; display: none"></span>
               </div>
               <br>
               <input type="submit" id = "submit" value="Submit" name = "submit">
               <input type="reset" value="Reset">
            </form>
         </div>
      </div>
   </body>
   <script type="text/javascript" src="camera-image-functions.js"></script>
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.2.0/mdb.min.js"></script>
   <script type="text/javascript" src="dateTimeValidation.js"></script>
   <script type="text/javascript" src="geolocationTag.js"></script>
   <script type="text/javascript" src="voice-to-text.js"></script>
</html>